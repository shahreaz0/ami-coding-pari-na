var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,o=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&n(e,a,t[a]);if(r)for(var a of r(t))l.call(t,a)&&n(e,a,t[a]);return e},m=(e,r)=>t(e,a(r)),c=("undefined"!=typeof require&&require,(e,t)=>{var a={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&r)for(var n of r(e))t.indexOf(n)<0&&l.call(e,n)&&(a[n]=e[n]);return a});import{n as i,R as u,u as d,r as p,N as E,B as g,a as y,F as f,I as b,b as h,c as v,C as w,d as x,e as N,S as P,f as I,g as S}from"./vendor.06db9f64.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const L=e=>{400===e&&i.error({message:"Username or password incorrect!",description:"Try again with correct email or password!",placement:"bottomLeft"}),500===e&&i.error({message:"Server Error",description:"Somthing went wrong",placement:"bottomLeft"})},R=e=>{400===e&&i.error({message:"User already exists with this email",description:"This email is taken. Use another email",placement:"bottomLeft"}),500===e&&i.error({message:"Server Error",description:"Somthing went wrong",placement:"bottomLeft"})},F=u.createContext(),k=()=>{let e=d();const{state:t,dispatch:a}=p.exports.useContext(F);return u.createElement("div",{className:"layout"},u.createElement("nav",{className:"navbar"},u.createElement("label",{className:"navbar-toggle",id:"js-navbar-toggle",htmlFor:"chkToggle"},u.createElement("i",{className:"bx bx-menu"})),u.createElement(E,{to:"/",className:"logo"},u.createElement("i",{className:"bx bxs-ghost"})),u.createElement("input",{type:"checkbox",id:"chkToggle"}),u.createElement("ul",{className:"main-nav",id:"js-menu"},t?u.createElement("li",{className:"nav-li"},u.createElement(g,{type:"primary",onClick:()=>{localStorage.clear("userInfo"),a({type:"USER",payload:!1}),i.success({message:"Logout Sucessful",description:"Now you are logged out",placement:"bottomLeft"}),e.push("/login")}},"Logout")):u.createElement("div",null,u.createElement("li",{className:"nav-li"},u.createElement(E,{to:"/login",className:"nav-links"},u.createElement(g,{type:"primary"},"Login"))),u.createElement("li",{className:"nav-li"},u.createElement(E,{to:"/register",className:"nav-links"},u.createElement(g,null,"Register")))))))};const O={name:[{required:!0,message:"Please input your Full Name!"}],email:[{type:"email",message:"The input is not valid Email!"},{required:!0,message:"Please input your Email!"}],password:[{required:!0,message:"Please input your password!"}],confirmPassword:[{required:!0,message:"Please confirm your password!"},({getFieldValue:e})=>({validator:(t,a)=>a&&e("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()})]},q={email:[{type:"email",message:"The input is not valid Email!"},{required:!0,message:"Please input your Email!"}],password:[{required:!0,message:"Please input your password!"}]},j={text:[{required:!0,message:"Please input your text!"},{pattern:new RegExp("^(?:[0-9 ]+,)*[0-9 ]+$"),message:"Only comma seperated sring value is required"}],query:[{required:!0,message:"Please input your searched value"},{type:"number",message:"Only numbers are allowed"}]},C=y.create({baseURL:"http://localhost:3001"}),T=e=>u.createElement("div",{className:"GameForm"},u.createElement(f,{name:"basic",initialValues:{remember:!0},onFinish:async t=>{const{text:a,query:r}=t,s=a.split(",").map((e=>parseInt(e))),l=s.sort(((e,t)=>t-e)).join(","),{_id:n}=JSON.parse(localStorage.getItem("userInfo"));try{const{data:e}=await C.post("/api/records",{userId:n,data:{input_values:l}})}catch(m){alert("Someting wrong. Try Again")}const o=((e,t)=>{let a=0,r=e.length-1;for(;a<=r;){let s=Math.floor((a+r)/2);if(e[s]===t)return!0;e[s]<t?a=s+1:r=s-1}return!1})(s,r);e.found(o),e.show(!0)},layout:"vertical"},u.createElement(f.Item,{label:"Input Values",name:"text",rules:j.text,hasFeedback:!0},u.createElement(b,null)),u.createElement(f.Item,{label:"Search Value",name:"query",rules:j.query,hasFeedback:!0},u.createElement(h,null)),u.createElement(f.Item,null,u.createElement(g,{type:"primary",htmlType:"submit"},"Khoj")))),U=e=>{const[t,a]=p.exports.useState(!1),[r,s]=p.exports.useState(!1),l=t?"true":"false";return u.createElement("div",{className:"Home"},u.createElement(v,null,u.createElement(w,{xs:24,md:9,lg:9},u.createElement("div",{className:"side-text"},u.createElement("p",null,"Khoj"))),u.createElement(w,{xs:24,md:15,lg:15},u.createElement("div",{className:"Home-form"},u.createElement(T,{found:a,show:s}),r&&u.createElement("div",{className:"card"},l)))))};const V=e=>{let t=d();const{state:a,dispatch:r}=p.exports.useContext(F);return u.createElement("div",{className:"LoginForm"},u.createElement(f,{name:"basic",initialValues:{remember:!0},onFinish:async e=>{try{const{data:a}=await C.post("/api/users/login",e);r({type:"USER",payload:!0}),localStorage.setItem("userInfo",JSON.stringify(a)),i.success({message:"Login Sucessful",description:"Now you are logged in",placement:"bottomLeft"}),t.push("/")}catch(a){400===a.response.status&&L(400),500===a.response.status&&L(500)}},autoComplete:"off",layout:"vertical"},u.createElement(f.Item,{label:"Email",name:"email",rules:q.email,hasFeedback:!0},u.createElement(b,null)),u.createElement(f.Item,{label:"Password",name:"password",rules:q.password,hasFeedback:!0},u.createElement(b.Password,null)),u.createElement(f.Item,null,u.createElement(g,{type:"primary",htmlType:"submit"},"Login"))))},A=e=>u.createElement("div",{className:"LoginPage"},u.createElement(v,null,u.createElement(w,{xs:24,md:9,lg:9},u.createElement("div",{className:"side-text"},u.createElement("p",null,"Login"))),u.createElement(w,{xs:24,md:15,lg:15},u.createElement("div",{className:"LoginPage-form"},u.createElement(V,null)))));const J=e=>{let t=d();const{state:a,dispatch:r}=p.exports.useContext(F);return u.createElement("div",{className:"LoginForm"},u.createElement(f,{name:"basic",initialValues:{remember:!0},onFinish:async e=>{try{const a={name:e.name,email:e.email,password:e.password},{data:s}=await C.post("/api/users",a);r({type:"USER",payload:!0}),localStorage.setItem("userInfo",JSON.stringify(s)),i.success({message:"Registration Sucessful",description:"Now you are logged in",placement:"bottomLeft"}),t.push("/")}catch(a){400===a.response.status&&R(400),500===a.response.status&&R(500)}},autoComplete:"off",layout:"vertical"},u.createElement(f.Item,{label:"Full Name",name:"name",rules:O.name,hasFeedback:!0},u.createElement(b,null)),u.createElement(f.Item,{label:"Email",name:"email",rules:O.email,hasFeedback:!0},u.createElement(b,null)),u.createElement(f.Item,{label:"Password",name:"password",rules:O.password,hasFeedback:!0},u.createElement(b.Password,null)),u.createElement(f.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:O.confirmPassword},u.createElement(b.Password,null)),u.createElement(f.Item,null,u.createElement(g,{type:"primary",htmlType:"submit"},"Register"))))},K=e=>u.createElement("div",{className:"RegisterPage"},u.createElement(v,null,u.createElement(w,{xs:24,md:9,lg:9},u.createElement("div",{className:"side-text"},u.createElement("p",null,"Register"))),u.createElement(w,{xs:24,md:15,lg:15},u.createElement("div",{className:"RegisterPage-form"},u.createElement(J,null))))),M=e=>{var t=e,{component:a,redirectRoute:r}=t,s=c(t,["component","redirectRoute"]);const{state:l}=p.exports.useContext(F);return u.createElement(x,m(o({},s),{render:e=>l?u.createElement(a,null):u.createElement(N,{to:r})}))},B=e=>{var t=e,{component:a,redirectRoute:r}=t,s=c(t,["component","redirectRoute"]);const{state:l}=p.exports.useContext(F);return u.createElement(x,m(o({},s),{render:e=>l?u.createElement(N,{to:r}):u.createElement(a,null)}))},H=!!localStorage.getItem("userInfo"),_=(e,t)=>"USER"===t.type?t.payload:e,D=()=>{const[e,t]=p.exports.useReducer(_,H);return u.createElement("div",{className:"App"},u.createElement(F.Provider,{value:{state:e,dispatch:t}},u.createElement(k,null),u.createElement(P,null,u.createElement(M,{exact:!0,path:"/",redirectRoute:"/login",component:U}),u.createElement(B,{exact:!0,path:"/login",redirectRoute:"/",component:A}),u.createElement(B,{exact:!0,path:"/register",redirectRoute:"/",component:K}))))};I.render(u.createElement(u.StrictMode,null,u.createElement(S,null,u.createElement(D,null))),document.getElementById("root"));
